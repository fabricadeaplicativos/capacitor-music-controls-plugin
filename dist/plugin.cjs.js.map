{"version":3,"file":"plugin.cjs.js","sources":["esm/definitions.js","esm/index.js","esm/web.js"],"sourcesContent":["export var MusicControlEvents;\r\n(function (MusicControlEvents) {\r\n    MusicControlEvents[\"FINISHED\"] = \"songFinished\";\r\n    MusicControlEvents[\"IS_PLAYING\"] = \"isPlaying\";\r\n    MusicControlEvents[\"NOTIFICATION_ACTIONS\"] = \"mediaActions\";\r\n    MusicControlEvents[\"TIME_UPDATED\"] = \"timeUpdated\";\r\n    MusicControlEvents[\"MUSIC_LOADED\"] = \"musicLoaded\";\r\n})(MusicControlEvents || (MusicControlEvents = {}));\r\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\r\nconst MusicControl = registerPlugin('MusicControl', {\r\n    web: () => import('./web').then(m => new m.MusicControlWeb()),\r\n});\r\nexport * from './definitions';\r\nexport { MusicControl };\r\n//# sourceMappingURL=index.js.map","/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport { WebPlugin } from '@capacitor/core';\r\nimport { MusicControlEvents } from './definitions';\r\nvar AudioEvents;\r\n(function (AudioEvents) {\r\n    AudioEvents[\"PLAYING\"] = \"playing\";\r\n    AudioEvents[\"PAUSE\"] = \"pause\";\r\n    AudioEvents[\"TIMEUPDATE\"] = \"timeupdate\";\r\n    AudioEvents[\"LOADSTART\"] = \"loadstart\";\r\n    AudioEvents[\"LOADEDDATA\"] = \"loadeddata\";\r\n    AudioEvents[\"ENDED\"] = \"ended\";\r\n    AudioEvents[\"SEEKED\"] = \"seeked\";\r\n    AudioEvents[\"SEEKING\"] = \"seeking\";\r\n})(AudioEvents || (AudioEvents = {}));\r\nexport class MusicControlWeb extends WebPlugin {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.webAudioPlayer = null;\r\n        this.autoPlay = true;\r\n    }\r\n    checkPermissions() {\r\n        throw this.unimplemented('checkPermissions -> not implemented on web');\r\n    }\r\n    requestPermissions() {\r\n        throw this.unimplemented('requestPermissions -> not implemented on web');\r\n    }\r\n    async create(info) {\r\n        if (this.webAudioPlayer) {\r\n            this.webAudioPlayer.pause();\r\n            this.webAudioPlayer = null;\r\n        }\r\n        this.autoPlay = info.autoPlay !== null ? !!info.autoPlay : true;\r\n        this.webAudioPlayer = new Audio(info.url);\r\n        this.setListeners();\r\n    }\r\n    setListeners() {\r\n        this.webAudioPlayer.addEventListener(AudioEvents.PLAYING, () => this.notifyListeners(MusicControlEvents.IS_PLAYING, { isPlaying: true }));\r\n        this.webAudioPlayer.addEventListener(AudioEvents.PAUSE, () => this.notifyListeners(MusicControlEvents.IS_PLAYING, { isPlaying: false }));\r\n        this.webAudioPlayer.addEventListener(AudioEvents.ENDED, () => this.notifyListeners(MusicControlEvents.FINISHED, { isPlaying: false }));\r\n        this.webAudioPlayer.addEventListener(AudioEvents.TIMEUPDATE, () => {\r\n            var _a;\r\n            return this.notifyListeners(MusicControlEvents.TIME_UPDATED, {\r\n                currentTime: (_a = this.webAudioPlayer) === null || _a === void 0 ? void 0 : _a.currentTime,\r\n            });\r\n        });\r\n        this.webAudioPlayer.addEventListener(AudioEvents.LOADEDDATA, () => {\r\n            this.notifyListeners(MusicControlEvents.MUSIC_LOADED, {\r\n                duration: this.webAudioPlayer.duration,\r\n            });\r\n            if (this.autoPlay) {\r\n                this.webAudioPlayer.play();\r\n            }\r\n        });\r\n    }\r\n    destroy() {\r\n        if (this.webAudioPlayer) {\r\n            this.webAudioPlayer.pause();\r\n            this.webAudioPlayer = null;\r\n        }\r\n    }\r\n    async togglePlayPause() {\r\n        if (!this.webAudioPlayer) {\r\n            throw Error(\"player isn't ready\");\r\n        }\r\n        if (this.webAudioPlayer.paused) {\r\n            this.webAudioPlayer.play();\r\n        }\r\n        else {\r\n            this.webAudioPlayer.pause();\r\n        }\r\n        return {\r\n            isPlaying: !this.webAudioPlayer.paused,\r\n        };\r\n    }\r\n    updateElapsed(_args) {\r\n        throw this.unimplemented('updateElapsed -> not implemented on web');\r\n    }\r\n    updateDismissable(_dismissible) {\r\n        throw this.unimplemented('_dismissible -> not implemented on web');\r\n    }\r\n    jumpTo(data) {\r\n        this.webAudioPlayer.currentTime = data.time;\r\n    }\r\n}\r\n//# sourceMappingURL=web.js.map"],"names":["MusicControlEvents","registerPlugin","WebPlugin"],"mappings":"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"}