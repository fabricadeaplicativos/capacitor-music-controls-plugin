{"version":3,"file":"plugin.js","sources":["esm/definitions.js","esm/index.js","esm/web.js"],"sourcesContent":["export var MusicControlEvents;\n(function (MusicControlEvents) {\n    MusicControlEvents[\"FINISHED\"] = \"songFinished\";\n    MusicControlEvents[\"IS_PLAYING\"] = \"isPlaying\";\n    MusicControlEvents[\"NOTIFICATION_ACTIONS\"] = \"mediaActions\";\n    MusicControlEvents[\"TIME_UPDATED\"] = \"timeUpdated\";\n    MusicControlEvents[\"MUSIC_LOADED\"] = \"musicLoaded\";\n})(MusicControlEvents || (MusicControlEvents = {}));\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nconst MusicControl = registerPlugin('MusicControl', {\n    web: () => import('./web').then(m => new m.MusicControlWeb()),\n});\nexport * from './definitions';\nexport { MusicControl };\n//# sourceMappingURL=index.js.map","/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { WebPlugin } from '@capacitor/core';\nimport { MusicControlEvents } from './definitions';\nvar AudioEvents;\n(function (AudioEvents) {\n    AudioEvents[\"PLAYING\"] = \"playing\";\n    AudioEvents[\"PAUSE\"] = \"pause\";\n    AudioEvents[\"TIMEUPDATE\"] = \"timeupdate\";\n    AudioEvents[\"LOADSTART\"] = \"loadstart\";\n    AudioEvents[\"LOADEDDATA\"] = \"loadeddata\";\n    AudioEvents[\"ENDED\"] = \"ended\";\n    AudioEvents[\"SEEKED\"] = \"seeked\";\n    AudioEvents[\"SEEKING\"] = \"seeking\";\n})(AudioEvents || (AudioEvents = {}));\nexport class MusicControlWeb extends WebPlugin {\n    constructor() {\n        super(...arguments);\n        this.webAudioPlayer = null;\n        this.autoPlay = true;\n    }\n    checkPermissions() {\n        throw this.unimplemented('checkPermissions -> not implemented on web');\n    }\n    requestPermissions() {\n        throw this.unimplemented('requestPermissions -> not implemented on web');\n    }\n    async create(info) {\n        if (this.webAudioPlayer) {\n            this.webAudioPlayer.pause();\n            this.webAudioPlayer = null;\n        }\n        this.autoPlay = info.autoPlay !== null ? !!info.autoPlay : true;\n        this.webAudioPlayer = new Audio(info.url);\n        this.setListeners();\n    }\n    setListeners() {\n        this.webAudioPlayer.addEventListener(AudioEvents.PLAYING, () => this.notifyListeners(MusicControlEvents.IS_PLAYING, { isPlaying: true }));\n        this.webAudioPlayer.addEventListener(AudioEvents.PAUSE, () => this.notifyListeners(MusicControlEvents.IS_PLAYING, { isPlaying: false }));\n        this.webAudioPlayer.addEventListener(AudioEvents.ENDED, () => this.notifyListeners(MusicControlEvents.FINISHED, { isPlaying: false }));\n        this.webAudioPlayer.addEventListener(AudioEvents.TIMEUPDATE, () => {\n            var _a;\n            return this.notifyListeners(MusicControlEvents.TIME_UPDATED, {\n                currentTime: (_a = this.webAudioPlayer) === null || _a === void 0 ? void 0 : _a.currentTime,\n            });\n        });\n        this.webAudioPlayer.addEventListener(AudioEvents.LOADEDDATA, () => {\n            this.notifyListeners(MusicControlEvents.MUSIC_LOADED, {\n                duration: this.webAudioPlayer.duration,\n            });\n            if (this.autoPlay) {\n                this.webAudioPlayer.play();\n            }\n        });\n    }\n    destroy() {\n        if (this.webAudioPlayer) {\n            this.webAudioPlayer.pause();\n            this.webAudioPlayer = null;\n        }\n    }\n    async togglePlayPause() {\n        if (!this.webAudioPlayer) {\n            throw Error(\"player isn't ready\");\n        }\n        if (this.webAudioPlayer.paused) {\n            this.webAudioPlayer.play();\n        }\n        else {\n            this.webAudioPlayer.pause();\n        }\n        return {\n            isPlaying: !this.webAudioPlayer.paused,\n        };\n    }\n    updateElapsed(_args) {\n        throw this.unimplemented('updateElapsed -> not implemented on web');\n    }\n    updateDismissable(_dismissible) {\n        throw this.unimplemented('_dismissible -> not implemented on web');\n    }\n    jumpTo(data) {\n        this.webAudioPlayer.currentTime = data.time;\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["MusicControlEvents","registerPlugin","WebPlugin"],"mappings":"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"}